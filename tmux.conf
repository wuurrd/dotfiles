# Set status bar
#unbind-key C-b
set -g prefix C-b
set -g status-bg black
set -g status-fg white
setw -g window-status-current-bg blue
setw -g window-status-current-attr bold
set -g status-left '#[fg=green]#H'
#set -g status-right '#[fg=yellow]#(uptime | cut -d "," -f 2-)'
set -g status-right '#[fg=yellow]#(cut -d " " -f 1-3 /proc/loadavg)#[default] #[fg=white]%H:%M:%S#[default]' # Set window notifications
set -g status-interval 10

setw -g monitor-activity on
#set -g visual-activity on

set -g history-limit 1000000
set -g status-keys emacs
setw -g mode-mouse off
setw -g utf8 on

set-option -g default-terminal "screen-256color"

set -g mode-mouse on
set -g mouse-resize-pane off
set -g mouse-select-pane on
set -g mouse-select-window on

# Toggle mouse on with ^B m
bind m set -g mode-mouse on \; set -g mouse-resize-pane off \;  set -g mouse-select-pane on \; set -g mouse-select-window on \; display 'Mouse: ON'

# Toggle mouse off with ^B M
bind M set -g mode-mouse off \; set -g mouse-resize-pane off \; set -g mouse-select-pane off \;  set -g mouse-select-window off \; display 'Mouse: OFF'


unbind r
bind r source-file ~/.tmux.conf \; display 'Reloaded tmux config.'

# color scheme (style based on vim-powerline)
set -g base-index 1
set -g status-left-length 52
set -g status-right-length 451
set -g status-fg white
set -g status-bg colour234
#set -g window-status-activity-attr bold
set -g pane-border-fg colour245
set -g pane-active-border-fg colour46
set -g message-fg colour16
set -g message-bg colour221
set -g message-attr bold
set -g status-left '#[fg=colour235,bg=colour252,bold] ❐ #S #[fg=colour252,bg=colour238,nobold]⮀#[fg=colour245,bg=colour238,bold] #(whoami) #[fg=colour238,bg=colour234,nobold]⮀'
set -g window-status-format "#[fg=white,bg=colour234] #I #W "
set -g window-status-current-format "#[fg=colour234,bg=colour39]⮀#[fg=colour25,bg=colour39,noreverse,bold] #I ⮁ #W #[fg=colour39,bg=colour234,nobold]⮀"


unbind +
bind + \
  new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \;\
  swap-pane -s tmux-zoom.0 \;\
  select-window -t tmux-zoom

unbind -
bind - \
  last-window \;\
  join-pane -s tmux-zoom.0 \;